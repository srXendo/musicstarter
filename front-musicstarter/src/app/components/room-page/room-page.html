<h1>MusicStarter</h1>

<div class="controls">
  <input [(ngModel)]="inputYoutube" placeholder="YouTube URL" />
  <button (click)="addNewVideo()">Add new video</button>
  <button (click)="pauseVideo()">Pause</button>
  <button (click)="playVideo()">Play</button>
  <button (click)="stopVideo()">Stop</button>
  <button (click)="addFriend()">Add Friend</button>
  <button (click)="previousVideo()">Previous</button>
  <button (click)="nextVideo()">Next</button>
</div>

<iframe
  #youtubeFrame
  width="560" height="315"
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  allowfullscreen
></iframe>

<div class="wrapper_video_list">
 
  @for (video of videos; track $index) {
    <div class="miDiv">
      <div class="background" [class]="{
      'focused_video': currentVideoId === video.id_youtube
    }" style="background-image: url('{{video.thumbnails[0].url}}');"></div>
      <div class="content">
        <span>{{video.title}}</span>
        <span>{{formatTime(video.lengthSeconds)}}</span>
        <button (click)="loadVideo(video.id_youtube)" [disabled]="currentVideoId === video.id_youtube">
          {{ currentVideoId === video.id_youtube ? "Is focused" : "Focus this" }}
        </button>
      </div>
    </div>
  }
</div>

